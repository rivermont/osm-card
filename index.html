<!DOCTYPE html>
<html lang="en_US">
<head>
    <meta charset="UTF-8">
    <title>OSM Business Card</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
    <h1>Interactive OpenStreetMap Embed</h1>
    <p>Contribute on <a href="https://github.com/rivermont/osm-card">GitHub</a>.</p>
    OpenStreetMap object id:&nbsp;<input type="text" id="id" placeholder="OSM id" value="299508059" /><br>
    Object type:&nbsp;<select id="type">
        <option value="n" selected>Node</option>
        <option value="w">Way</option>
        <option value="r">Relation</option>
    </select><br>
    Embed width:&nbsp;<input type="text" id="w" placeholder="width (px)" value="800" />&nbsp;and height:&nbsp;<input type="text" id="h" placeholder="height (px)" value="400" />
    <br><br>
    <textarea id="output" cols="70" rows="5" readonly></textarea>
    <br><br>
    <div id="frame"></div>
    <script>
    a = '<iframe src=';
    d = '></iframe>';
    function run() {
        b1 = '"//' + window.location.hostname + window.location.pathname;
        b2 = '"./';
        c = 'card.html?type=' + $('#type').val() + '&id=' + $('#id').val() + '" width="' + $('#w').val() + 'px" height="' + $('#h').val() + 'px"';

        $('#frame').html(a + b2 + c + d);
        $('#output').val(a + b1 + c + d);
    }
    run();

    $('#id').change(run);
    $('#type').change(run);
    $('#w').change(run);
    $('#h').change(run);
    </script>
</body>
</html>